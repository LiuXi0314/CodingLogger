# 关于利用SurfaceView绘制16宫格抽奖转盘的一些记录

> 前些日子根据公司需求，用Android 实现了一个抽奖大转盘的功能，界面效果为十六宫格，十六件奖品（视频后期放入）。经过简单研究后决定采用具有双缓存机制的SurfaceView来实现。整体实现思路也比较简单，废话不多说，进入教程。  

### 核心思想

1. 绘制**基础UI**,其中分为三步骤 

	- 绘制背景；
	- 绘制奖品；
	- 绘制中心按钮；

2. 绘制**抽奖旋转动画**

	- 绘制基础Ui;
	- 绘制奖品选中Ui；
	- 利用线程休眠机制，间隔绘制，生成动画效果；

3. 旋转抽奖控制逻辑

	- 利用两个int值和一个boolean来控制抽奖逻辑 
	```java
	int count = 0;
	int max = 9999;
	boolean isLottery;
	```
	>count 表示旋转动画已经走过的步数，每次抽奖开始前重置；
	>max 表示抽奖旋转动画的最大步数，当获取到api返回结果后，通过动态修改max值来达到结束抽奖的目的；
	>旋转开始时 进行操作`isLottery = true`,在旋转过程中，判断到`count == max`时，执行操作`isLottery = false`,终止抽奖。	

### 实现步骤
1. 实现自定义View SweepstakesView 继承自SurfaceView




	
	



